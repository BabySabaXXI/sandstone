#===============================================================================
# Sandstone Database Backup Environment Variables
#===============================================================================
# Copy this file to backup.env and fill in your values
# NEVER commit backup.env to version control!
#===============================================================================

#-------------------------------------------------------------------------------
# Database Configuration (REQUIRED)
#-------------------------------------------------------------------------------

# Option 1: Full connection string (recommended)
# Format: postgresql://user:password@host:port/database
SUPABASE_DB_URL=

# Option 2: Project ID and Password (alternative)
# These will be used to construct the connection string
SUPABASE_PROJECT_ID=
SUPABASE_DB_PASSWORD=

#-------------------------------------------------------------------------------
# Backup Settings
#-------------------------------------------------------------------------------

# Number of days to retain backups (default: 30)
RETENTION_DAYS=30

# Compress backups (true/false)
COMPRESS=true

# Encrypt backups (true/false)
# If true, you MUST set ENCRYPTION_KEY
ENCRYPT=false

# Upload backups to S3 (true/false)
UPLOAD_S3=false

# Send notifications on errors (true/false)
NOTIFY_ON_ERROR=true

#-------------------------------------------------------------------------------
# Encryption Settings
#-------------------------------------------------------------------------------
# Generate a secure key with: openssl rand -base64 32
# Store this securely - if lost, encrypted backups cannot be recovered!
ENCRYPTION_KEY=

#-------------------------------------------------------------------------------
# AWS S3 Configuration (required if UPLOAD_S3=true)
#-------------------------------------------------------------------------------
S3_BUCKET=sandstone-backups
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

#-------------------------------------------------------------------------------
# Notification Settings (optional)
#-------------------------------------------------------------------------------

# Slack webhook URL for notifications
# Create at: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=

# Discord webhook URL for notifications
# Create at: Server Settings > Integrations > Webhooks
DISCORD_WEBHOOK_URL=

# Email notifications (requires mail command)
EMAIL_TO=

#-------------------------------------------------------------------------------
# Advanced Settings
#-------------------------------------------------------------------------------

# Backup directory path
BACKUP_DIR=/opt/sandstone/backups/storage

# Log directory path
LOG_DIR=/opt/sandstone/backups/logs

# Temporary directory for processing
TEMP_DIR=/tmp/sandstone-backups

# Maximum backup file size in MB (0 = unlimited)
MAX_BACKUP_SIZE_MB=0

# Number of parallel jobs for backup (1 = sequential)
PARALLEL_JOBS=1
