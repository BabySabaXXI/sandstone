#===============================================================================
# Sandstone Database Backup Configuration
#===============================================================================

#-------------------------------------------------------------------------------
# Database Configuration
#-------------------------------------------------------------------------------
# Option 1: Full connection string (recommended)
# SUPABASE_DB_URL=postgresql://postgres:password@db.projectid.supabase.co:5432/postgres

# Option 2: Project ID and Password (will construct URL)
# SUPABASE_PROJECT_ID=your-project-id
# SUPABASE_DB_PASSWORD=your-db-password

#-------------------------------------------------------------------------------
# Backup Settings
#-------------------------------------------------------------------------------
# Number of days to retain backups
RETENTION_DAYS=30

# Compress backups (true/false)
COMPRESS=true

# Encrypt backups (true/false)
ENCRYPT=false

# Upload to S3 (true/false)
UPLOAD_S3=false

# Send notifications on errors (true/false)
NOTIFY_ON_ERROR=true

#-------------------------------------------------------------------------------
# Encryption Settings (required if ENCRYPT=true)
#-------------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
# ENCRYPTION_KEY=your-encryption-key-here

#-------------------------------------------------------------------------------
# S3 Configuration (required if UPLOAD_S3=true)
#-------------------------------------------------------------------------------
# S3_BUCKET=sandstone-backups
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

#-------------------------------------------------------------------------------
# Notification Settings
#-------------------------------------------------------------------------------
# Slack webhook URL
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/yyy/zzz

# Discord webhook URL
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/xxx/yyy

# Email notifications
# EMAIL_TO=admin@example.com

#-------------------------------------------------------------------------------
# Backup Schedule (for reference - configure in cron)
#-------------------------------------------------------------------------------
# Full backup: Daily at 2 AM
# 0 2 * * * /path/to/backups/scripts/supabase-backup.sh full
#
# Schema backup: Weekly on Sundays at 3 AM
# 0 3 * * 0 /path/to/backups/scripts/supabase-backup.sh schema
#
# Incremental backup: Every 6 hours
# 0 */6 * * * /path/to/backups/scripts/supabase-backup.sh incremental
#
# Cleanup old backups: Daily at 4 AM
# 0 4 * * * /path/to/backups/scripts/supabase-backup.sh cleanup
